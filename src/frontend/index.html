<!doctype html>
<html lang="en" class="light-theme">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Stable Network Wallet</title>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
     <style>
      body {
          display: flex;
          flex-direction: column;
      }

      #wallet_buttons {
        display: none;
      }
      
      button {
        cursor: pointer;
        color: #fff;
        width: 100%;
        font-size: 2em;
        font-family: "Helvetica Neue";
        background-color: #198754;
        padding: 40px;
        margin: 100px 10px;
        border-radius: 0.375rem;
        border: 0;

        /* border: 1px solid #000; */

      }
  </style> 
  <script type="text/javascript">
    if(window.location.hash.slice(1)) {
      localStorage.entropy = window.location.hash.slice(1); 
    } else if(localStorage.entropy && window.location.pathname == "/") {
      window.location = `/#${localStorage.entropy}` 
    } 
  </script>
  </head>
  <body>
    <div id="wallet_buttons">
    <button onClick="createWallet()">{{create_wallet_button}}</button>
    <button onClick="alert('too bad')">I Already Have a Crypto Wallet</button>
    </div>
    <div id="root"></div>
    <script type="module" src="main.jsx"></script>
     <script type="text/javascript">
      if(
        !window.location.hash.slice(1)
      || (window.location.pathname == "/magic" && !localStorage.entropy)
      ) {
        document.getElementById("wallet_buttons").style.display = 'block'
      }

      function createWallet() { 
        let entropy = Buffer.from(crypto.getRandomValues(new Uint8Array(32))).toString("base64");
        localStorage.entropy = entropy
        window.location = `/#${localStorage.entropy}` 
        window.location.reload()
      }

      </script>
  </body>
</html>